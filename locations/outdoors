# outdoors

if $ARGS[0] = 'weather':
	if weatherDay ! daystart:
		sunWeather = 0
		if month = 1:
			weatherDay = daystart
			temper = rand(-25, 0)

			if temper <= 0:

				if rand(0, 11) < 6:
					$osadki = 'Clear.'
					sunWeather = 1
				else
					$osadki = 'Light, fluffy snow.'
				end
			else
				if rand(0, 11) < 6:
					$osadki = 'Clear, the snow is beginning to melt in some places forming slush.'
					sunWeather = 1
				else
					$osadki = 'Wet snow falls, immediately melting to form slush.'
				end
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>On the street there is snow, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 2:
			weatherDay = daystart
			temper = rand(-30, 0)

			if temper <= 0:
				if rand(0, 10) < 6:
					$osadki = 'Cloudy and windy.'
					sunWeather = 1
				else
					$osadki = 'It''s snowing.'
				end
			else
				if rand(0, 10) < 6:
					$osadki = 'Clear, the snow is beginning to melt in some places forming slush.'
					sunWeather = 1
				else
					$osadki = 'Wet snow falls, immediately melting to form slush.'
				end
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>On the street there is snow, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 3:
			weatherDay = daystart
			temper = rand(-20, 8)

			if temper <= 0:
				if rand(0, 10) < 6:
					$osadki = 'Clear and cloudless.'
					sunWeather = 1
				else
					$osadki = 'It''s snowing.'
				end
			else
				if rand(0, 10) < 6:
					$osadki = 'Clear, the snow is beginning to melt in some places forming slush.'
					sunWeather = 1
				else
					$osadki = 'Wet snow falls, immediately melting to form slush.'
				end
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>On the street there is snow, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 4:
			weatherDay = daystart
			temper = rand(-5, 15)
			if rand(0, 10) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Rain.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>On the street the snow melts, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 5:
			weatherDay = daystart
			temper = rand(3, 22)
			if rand(0, 10) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Rain.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>Puddles in the street left by snow, winter has covered everything in dirt and debris, some places where new grass grows are pleasantly green, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 6:
			weatherDay = daystart
			temper = rand(8, 25)
			if rand(0, 9) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Rain.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>Green grass lines the streets, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 7:
			weatherDay = daystart
			temper = rand(10, 27)
			if rand(0, 9) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Light showers.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>Green grass lines the streets, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 8:
			weatherDay = daystart
			temper = rand(8, 25)
			if rand(0, 9) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Light showers.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>The grass is green, in the trees the leaves are already turning yellow, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 9:
			weatherDay = daystart
			temper = rand(3, 22)
			if rand(0, 10) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Rain.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>Streets lined with green grass, visible yellow leaves, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 10:
			weatherDay = daystart
			temper = rand(0, 15)
			if rand(0, 10) < 6:
				$osadki = 'Clear.'
				sunWeather = 1
			else
				$osadki = 'Rain and hail.'
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>The grass is fading and patchy, yellow and brown leaves fall from the trees, mud and puddles dot the street, temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 11:
			weatherDay = daystart
			temper = rand(-10, 7)

			if temper <= 0:
				if rand(0, 10) < 6:
					$osadki = 'Clear and cloudless.'
					sunWeather = 1
				else
					$osadki = 'It''s snowing.'
				end
			else
				if rand(0, 10) < 6:
					$osadki = 'Clear, the snow begins to melt some places forming slush.'
					sunWeather = 1
				else
					$osadki = 'Cold rain.'
				end
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>The street is dirty with a thin snow cover, temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		elseif month = 12:
			weatherDay = daystart
			temper = rand(-15, 0)
			if temper <= 0:
				if rand(0, 11) < 6:
					$osadki = 'Cloudy and windy.'
					sunWeather = 1
				else
					$osadki = 'Light fluffy snow.'
				end
			else
				if rand(0, 11) < 6:
					$osadki = 'Clear skies, the snow is beginning to melt in some places forming slush.'
					sunWeather = 1
				else
					$osadki = 'Wet snow falls, immediately melting to form slush.'
				end
			end
			gs 'outdoors', 'temp_set'

			$weather = '<b>The street is covered in snow, the temperature is <<$temperature>> degrees Celsius. <<$osadki>></b>'
		end
	end
end

if $ARGS[0] = 'temp_set':
	if temper < 0:
		$temperature = '<font color=blue><<temper>></font>'
	elseif temper < 10:
		$temperature = '<font color=green><<temper>></font>'
	elseif temper < 20:
		$temperature = '<font color=orange><<temper>></font>'
	else
		$temperature = '<font color=red><<temper>></font>'
	end
end

if $ARGS[0] = 'main':
	if night_mode = 1:
		fcolor = rgb(255, 255, 255)
		bcolor = rgb(0, 0, 0)
	else
		if hour = 0:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(0, 0, 0)
		elseif hour = 1:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(5, 5, 5)
		elseif hour = 2:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(10, 10, 10)
		elseif hour = 3:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(30, 15, 15)
		elseif hour = 4:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(60, 20, 20)
		elseif hour = 5:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(100, 40, 40)
		elseif hour = 6:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(200, 100, 100)
		elseif hour = 7:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 150, 150)
		elseif hour = 8:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 200, 200)
		elseif hour = 9:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 245, 245)
		elseif hour = 10:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(255, 250, 250)
		elseif hour = 11:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(255, 255, 255)
		elseif hour = 12:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(255, 255, 255)
		elseif hour = 13:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(255, 255, 255)
		elseif hour = 14:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(255, 250, 250)
		elseif hour = 15:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(255, 245, 245)
		elseif hour = 16:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 240, 240)
		elseif hour = 17:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 230, 230)
		elseif hour = 18:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 220, 220)
		elseif hour = 19:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 210, 210)
		elseif hour = 20:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 200, 200)
		elseif hour = 21:
			fcolor = rgb(0, 0, 0)
			bcolor = rgb(250, 150, 150)
		elseif hour = 22:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(25, 25, 25)
		elseif hour = 23:
			fcolor = rgb(255, 255, 255)
			bcolor = rgb(5, 5, 5)
		end
	end

	if sunWeather = 0 and umbrella = 0:
		*NL 'It is raining and you do not have an umbrella.'
		if pcs_makeup > 1:
			pcs_makeup = 0
			*p ' The rain has ruined your makeup.'
		end

		if pcs_hairbsh = 1:
			pcs_hairbsh = 0

			if curly > 0:curly -= 1

			*p ' Your hair is soaked.'
		end
		*nl
	end

	if temper <= 0:
		if (totminut - Time15Minute) >= 15:
			!reset Time15Minute
			if frost = 0:Time15Minute = totminut
			! begin Loop
			:Time15MinuteLoop

			if defaultcoat = 5:bonusZ = -3
			if defaultcoat = 0:bonusZ = 0
			if defaultcoat = 3 or defaultcoat = 9 or defaultcoat = 11 or defaultcoat = 12 or defaultcoat = 15 or defaultcoat = 18:bonusZ = 3

			if temper < -10 and defaultcoat < 4 and defaultcoat ! 0:
				if temper < -30:
					frost += 2
				else
					frost += 1
				end
				if pcs_energy < 20:frost += 1
				if tanga = 0:frost += 1
				if pcs_sweat > 20:frost += 1
			elseif temper < -20 and (defaultcoat = 4 or defaultcoat = 5 or defaultcoat = 8 or defaultcoat = 10 or defaultcoat = 12 or defaultcoat = 13 or defaultcoat = 14 or defaultcoat = 16 or defaultcoat = 17 or defaultcoat = 18 or defaultcoat = 19):
				frost += 1
				if pcs_energy < 20:frost += 1
				if pcs_sweat > 20:frost += 1
			elseif temper < -30 and (defaultcoat = 6 or defaultcoat = 7 or defaultcoat = 9 or defaultcoat = 11 or defaultcoat = 15):
				frost += 1
			end

			if defaultcoat = 0:
				if temper < -10:frost += 1
				if temper < -20:frost += 2
				if temper < -30:frost += 5
			end

			if frost >= 12:sick += 1
			if sick > 0 and sickstage = 0:sickstage = 1

			Time15Minute += 15

			if (totminut - Time15Minute) >= 15:jump 'Time15MinuteLoop'
		end
	end

!!15 minute check to stop refreshes causing early gameover and cheating at exhibitionism
	if outdoors_checks + 15 < totminut:
		outdoors_checks = totminut
		if isprok = 0 and isprokp = 0 and mesec > 0 and preg = 0:
			'<b><font color="red">You have the blood flowing down your legs and staining your clothes.</font></b>'

			if clrbelo > 0 and tanga = 1:clrbelo -= 1 & tanga = 0 & '<b><font color="red">Your panties have been ruined and you discreetly remove and dispose of them.</font></b>'

			pcs_sweat += 10
			pcs_mood -= 3
			pcs_willpwr -= 10
			dynamic '<<$clothingworntype>>H[<<clothingwornnumber>>] -= 1'
		end

!!Exhibitionism

		if CloExhibit >= pcs_exhibition - 10:
			exhibition_outdoors += 1
			if pcs_exhibition < 45 and PCloPanties = 1: exhibition_outdoors += 1
		end

		if tanga = 0:
			if PCloSkirt = 3:
				exhibition_outdoors += 1
			elseif PCloSkirt = 4:
				exhibition_outdoors += 2
			elseif PCloSkirt = 5:
				exhibition_outdoors += 3
			elseif PCloSkirt = 6:
				exhibition_outdoors += 4
			end
		end
	end
end

--- outdoors ---------------------------------

