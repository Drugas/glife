# noticeboard
$location_type = 'public_indoors'

if $ARGS[0] = 'look':
if $set_imgh!'':givemeheight=val(mid($set_imgh,10,len($set_imgh)-9))/20 else givemeheight = 30
NumberOfNewAdverts = 0
$advert0 = func('noticeboard','test_advert0') 
$advert1 = func('noticeboard','test_advert1') 
$advert2 = func('noticeboard','test_advert2') 
!!$advert3 = func('noticeboard','test_advert3') 
!!$advert4 = func('noticeboard','test_advert4') 
!!$advert5 = func('noticeboard','test_advert5') 
!!$advert6 = func('noticeboard','test_advert6') 
!!$advert7 = func('noticeboard','test_advert7') 
!!$advert8 = func('noticeboard','test_advert8') 
!!$advert9 = func('noticeboard','test_advert9') 

*pl '<map name="noticemap">'+ _
	'<area shape="rect" coords="<<$advert0>>" href="exec:gt ''noticeboard'', ''advert0''" alt="XX1XX">'+ _
	'<area shape="rect" coords="<<$advert1>>" href="exec:gt ''noticeboard'', ''advert1''" alt="XX2XX">'+ _
	'<area shape="rect" coords="<<$advert2>>" href="exec:gt ''noticeboard'', ''advert2''" alt="XX3XX">'+ _
	'</map>'+ _
	'<center><img <<$set_imgh>> src="images/locations/shared/store/noticeboard_<<$loc>>.jpg" USEMAP="#noticemap"></center>'
	if NumberOfNewAdverts = 0: *nl 'There are no new adverts.'
	if NumberOfNewAdverts = 1: *nl 'There is one new advert.'
	if NumberOfNewAdverts > 1: *nl 'There are <<NumberOfNewAdverts>> new adverts'
	act 'Leave the board': gt 'shop','main'
end
if $ARGS[0] = 'advert0':
	'Wanted dog walker!'
	minut +=2
	gs 'stat'
	act 'Call the number': ''
	act 'Continue': gt 'noticeboard','look'
end

if $ARGS[0] = 'advert1':
	'<center><b><font color = "red">Pavlovsk police department newsletter</b><center>'
	*p 'The Pavlovsk police department recently investigated the rumours that a secret prostitution ring was being run from the Pavlovsk hotel. '
	*p 'After a very thorough investigation we found absolutely no evidence of this. '
	*p 'The hotel manager, Herman Leonidovich, was interrogated and not only did we find him completely innocence he also gave a substantial donation to our department. '
	*pl 'He ensured us that any young, pretty girl could apply for a maid job in their hotel and there is absolutely no chance that they would be forced to prostitute themselves.'
	minut +=2
	gs 'stat'
	act 'Continue': gt 'noticeboard','look'
end

if $ARGS[0] = 'advert2':
	'There is a concert on Friday'
	minut +=2
	gs 'stat'
	act 'Continue': gt 'noticeboard','look'
end
if $ARGS[0] = 'test_advert0':
	if hour = 9: 
		$result = '<<3*givemeheight>>,<<2*givemeheight>>,<<7*givemeheight>>,<<8*givemeheight>>'
		NumberOfNewAdverts += 1
	else 
		$result = '0,0,0,0'
	end
end
if $ARGS[0] = 'test_advert1':
	if $loc = 'pavCommercial': 
		$result = '<<8*givemeheight>>,<<12*givemeheight>>,<<12*givemeheight>>,<<18*givemeheight>>'
		NumberOfNewAdverts += 1
	else 
		$result = '0,0,0,0'
	end
end
if $ARGS[0] = 'test_advert2':
	if hour > 5:
		$result = '<<18*givemeheight>>,<<2*givemeheight>>,<<22*givemeheight>>,<<8*givemeheight>>'
		NumberOfNewAdverts += 1
	else 
		$result = '0,0,0,0'
	end
end


!gt 'noticeboard','look'
--- noticeboard -------------------------------------
 
 